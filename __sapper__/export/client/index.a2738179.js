import{S as a,i as s,s as e,e as t,t as l,c as r,a as c,b as o,d as n,f as i,g as u,h as d,j as f,k as h,l as m,m as p,n as g,o as v,p as x,q as w,r as E,u as $,v as b,w as y,x as j,y as P,z as I,A as L,B as A,C as N}from"./client.2b4442a5.js";import{S as V}from"./Spinner.b12183de.js";function B(a){let s,e;return{c(){s=t("p"),e=l(a[4]),this.h()},l(t){s=r(t,"P",{class:!0});var l=c(s);e=o(l,a[4]),l.forEach(n),this.h()},h(){i(s,"class","text-red-500 text-xs italic")},m(a,t){u(a,s,t),d(s,e)},p(a,s){16&s&&f(e,a[4])},d(a){a&&n(s)}}}function D(a){let s,e;return s=new V({}),{c(){h(s.$$.fragment)},l(a){m(s.$$.fragment,a)},m(a,t){p(s,a,t),e=!0},i(a){e||(g(s.$$.fragment,a),e=!0)},o(a){v(s.$$.fragment,a),e=!1},d(a){x(s,a)}}}function S(a){let s;return{c(){s=l("Login")},l(a){s=o(a,"Login")},m(a,e){u(a,s,e)},d(a){a&&n(s)}}}function T(a){let s,e,f,h,m,p,x,I,L,A,N,V,T,k,C,O,U,F,G,q,z,H,W,J,K,M,Q,R,X,Y=!a[3]&&B(a),Z=a[2]&&D(),_=!a[2]&&S();return{c(){s=t("div"),e=t("div"),f=t("div"),h=t("h1"),m=l("LOGIN"),p=w(),x=t("label"),I=l("Email"),L=w(),A=t("input"),N=w(),V=t("label"),T=l("Password"),k=w(),C=t("input"),O=w(),Y&&Y.c(),U=w(),F=t("button"),Z&&Z.c(),G=w(),_&&_.c(),q=w(),z=t("div"),H=t("a"),W=l("Create account"),J=w(),K=t("a"),M=l("Forgot password?"),this.h()},l(a){s=r(a,"DIV",{class:!0});var t=c(s);e=r(t,"DIV",{class:!0});var l=c(e);f=r(l,"DIV",{class:!0});var i=c(f);h=r(i,"H1",{class:!0});var u=c(h);m=o(u,"LOGIN"),u.forEach(n),p=E(i),x=r(i,"LABEL",{for:!0,class:!0});var d=c(x);I=o(d,"Email"),d.forEach(n),L=E(i),A=r(i,"INPUT",{type:!0,name:!0,placeholder:!0,id:!0,autocomplete:!0,class:!0}),N=E(i),V=r(i,"LABEL",{for:!0,class:!0});var g=c(V);T=o(g,"Password"),g.forEach(n),k=E(i),C=r(i,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,autocomplete:!0,class:!0}),O=E(i),Y&&Y.l(i),U=E(i),F=r(i,"BUTTON",{class:!0});var v=c(F);Z&&Z.l(v),G=E(v),_&&_.l(v),v.forEach(n),q=E(i),z=r(i,"DIV",{class:!0});var w=c(z);H=r(w,"A",{href:!0,class:!0});var $=c(H);W=o($,"Create account"),$.forEach(n),J=E(w),K=r(w,"A",{href:!0,class:!0});var b=c(K);M=o(b,"Forgot password?"),b.forEach(n),w.forEach(n),i.forEach(n),l.forEach(n),t.forEach(n),this.h()},h(){i(h,"class","mb-8 text-3xl text-center"),i(x,"for","Email"),i(x,"class","svelte-1gj0014"),i(A,"type","text"),i(A,"name","Email"),i(A,"placeholder","Email"),i(A,"id","email"),i(A,"autocomplete","off"),i(A,"class","svelte-1gj0014"),i(V,"for","Password"),i(V,"class","svelte-1gj0014"),i(C,"type","password"),i(C,"name","Password"),i(C,"id","password"),i(C,"placeholder","Password"),i(C,"autocomplete","new-password"),i(C,"class","svelte-1gj0014"),i(F,"class","svelte-1gj0014"),i(H,"href","/register"),i(H,"class","font-medium text-blue-500"),i(K,"href","/forgotPassword"),i(K,"class","text-gray-600"),i(z,"class","wrapper svelte-1gj0014"),i(f,"class","bg-white px-6 pt-3 rounded shadow-md text-black w-full"),i(e,"class","container max-w-md mx-auto flex-1 flex flex-col items-center justify-center px-2"),i(s,"class","bg-grey-lighter min-h-screen flex flex-col")},m(t,l){u(t,s,l),d(s,e),d(e,f),d(f,h),d(h,m),d(f,p),d(f,x),d(x,I),d(f,L),d(f,A),$(A,a[0]),d(f,N),d(f,V),d(V,T),d(f,k),d(f,C),$(C,a[1]),d(f,O),Y&&Y.m(f,null),d(f,U),d(f,F),Z&&Z.m(F,null),d(F,G),_&&_.m(F,null),d(f,q),d(f,z),d(z,H),d(H,W),d(z,J),d(z,K),d(K,M),Q=!0,R||(X=[b(A,"input",a[6]),b(C,"input",a[7]),b(F,"click",a[5])],R=!0)},p(a,[s]){1&s&&A.value!==a[0]&&$(A,a[0]),2&s&&C.value!==a[1]&&$(C,a[1]),a[3]?Y&&(Y.d(1),Y=null):Y?Y.p(a,s):(Y=B(a),Y.c(),Y.m(f,U)),a[2]?Z?4&s&&g(Z,1):(Z=D(),Z.c(),g(Z,1),Z.m(F,G)):Z&&(y(),v(Z,1,1,(()=>{Z=null})),j()),a[2]?_&&(_.d(1),_=null):_||(_=S(),_.c(),_.m(F,null))},i(a){Q||(g(Z),Q=!0)},o(a){v(Z),Q=!1},d(a){a&&n(s),Y&&Y.d(),Z&&Z.d(),_&&_.d(),R=!1,P(X)}}}function k(a,s,e){let t="",l="",r=!1,c=!0,o="";return[t,l,r,c,o,()=>{e(2,r=!0),I.auth().signInWithEmailAndPassword(t,l).then((a=>{a.user.emailVerified?(e(3,c=!0),e(2,r=!1),L("/dashboard")):(e(3,c=!1),e(4,o="Please verify your email before continue!"),e(2,r=!1))})).catch((a=>{e(4,o=a.message),e(3,c=!1),e(2,r=!1)}))},function(){t=this.value,e(0,t)},function(){l=this.value,e(1,l)}]}class C extends a{constructor(a){super(),s(this,a,k,T,e,{})}}function O(a){let s,e,t;return e=new C({}),{c(){s=w(),h(e.$$.fragment),this.h()},l(a){A('[data-svelte="svelte-oh6yg0"]',document.head).forEach(n),s=E(a),m(e.$$.fragment,a),this.h()},h(){document.title="Sapper project template"},m(a,l){u(a,s,l),p(e,a,l),t=!0},p:N,i(a){t||(g(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){a&&n(s),x(e,a)}}}async function U(a,s){const{user:e}=s;return e?this.redirect(302,"/dashboard"):null}export default class extends a{constructor(a){super(),s(this,a,null,O,e,{})}}export{U as preload};
