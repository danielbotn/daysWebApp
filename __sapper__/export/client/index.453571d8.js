import{S as e,i as t,s as n,e as s,t as a,c as o,a as r,b as l,d as c,f as i,g as d,h as u,j as f,D as h,q as m,r as p,v as g,N as b,M as v,F as $,A as I,_ as N,$ as x,a0 as y,k as w,l as D,m as k,n as E,o as j,p as H,w as O,x as S,z as _,a1 as L,C as P,R as T,a2 as U,K as V,T as K}from"./client.ec3d391d.js";function q(e){let t,n;return{c(){t=s("h1"),n=a(e[0]),this.h()},l(s){t=o(s,"H1",{class:!0});var a=r(t);n=l(a,e[0]),a.forEach(c),this.h()},h(){i(t,"class","font-semibold tracking-wide uppercase text-4xl text-center")},m(e,s){d(e,t,s),u(t,n)},p(e,t){1&t&&f(n,e[0])},d(e){e&&c(t)}}}function z(e){let t,n=e[0]&&q(e);return{c(){t=s("div"),n&&n.c(),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=r(t);n&&n.l(s),s.forEach(c),this.h()},h(){i(t,"class","justify-self-center")},m(e,s){d(e,t,s),n&&n.m(t,null)},p(e,[s]){e[0]?n?n.p(e,s):(n=q(e),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:h,o:h,d(e){e&&c(t),n&&n.d()}}}function F(e,t,n){let{boardName:s}=t;return e.$$set=e=>{"boardName"in e&&n(0,s=e.boardName)},[s]}class A extends e{constructor(e){super(),t(this,e,F,z,n,{boardName:0})}}function B(e){let t,n,g,b,v,$,I,N,x=e[0].add+"";return{c(){t=s("div"),n=s("div"),g=s("input"),v=m(),$=s("div"),I=s("button"),N=a(x),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=r(t);n=o(s,"DIV",{class:!0});var a=r(n);g=o(a,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),a.forEach(c),v=p(s),$=o(s,"DIV",{});var i=r($);I=o(i,"BUTTON",{type:!0,class:!0});var d=r(I);N=l(d,x),d.forEach(c),i.forEach(c),s.forEach(c),this.h()},h(){i(g,"type","text"),i(g,"name","create new list"),i(g,"placeholder",b=e[0].addNewItem),i(g,"class","svelte-1suvsex"),i(n,"class","flex-auto"),i(I,"type","button"),i(I,"class","border border-blue-500 bg-blue-500 hover:border-blue-300 text-white rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:bg-blue-300 focus:outline-none focus:shadow-outline mb-6"),i(t,"class","flex items-center lg:px-24 px-6")},m(e,s){d(e,t,s),u(t,n),u(n,g),u(t,v),u(t,$),u($,I),u(I,N)},p(e,[t]){1&t&&b!==(b=e[0].addNewItem)&&i(g,"placeholder",b),1&t&&x!==(x=e[0].add+"")&&f(N,x)},i:h,o:h,d(e){e&&c(t)}}}function C(e,t,n){let{datoHardcodedStrings:s}=t;return e.$$set=e=>{"datoHardcodedStrings"in e&&n(0,s=e.datoHardcodedStrings)},[s]}class M extends e{constructor(e){super(),t(this,e,C,B,n,{datoHardcodedStrings:0})}}function R(e,t,n){const s=e.slice();return s[10]=t[n],s}function G(e){let t,n=e[0],a=[];for(let t=0;t<n.length;t+=1)a[t]=J(R(e,n,t));return{c(){t=s("ul");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=o(e,"UL",{class:!0});var n=r(t);for(let e=0;e<a.length;e+=1)a[e].l(n);n.forEach(c),this.h()},h(){i(t,"class","list-reset text-black mb-8 p-8 text-grey-darker rounded shadow-lg")},m(e,n){d(e,t,n);for(let e=0;e<a.length;e+=1)a[e].m(t,null)},p(e,s){if(13&s){let o;for(n=e[0],o=0;o<n.length;o+=1){const r=R(e,n,o);a[o]?a[o].p(r,s):(a[o]=J(r),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},d(e){e&&c(t),b(a,e)}}}function J(e){let t,n,h,b,v,$,I,N,x,y=e[10].Name+"";function w(){return e[8](e[10])}return{c(){t=s("li"),n=s("div"),h=s("input"),v=m(),$=a(y),I=m(),this.h()},l(e){t=o(e,"LI",{class:!0});var s=r(t);n=o(s,"DIV",{class:!0});var a=r(n);h=o(a,"INPUT",{type:!0,class:!0,checked:!0}),a.forEach(c),v=p(s),$=l(s,y),I=p(s),s.forEach(c),this.h()},h(){i(h,"type","checkbox"),i(h,"class","form-checkbox h-5 w-5 text-blue-500"),h.checked=b=e[2](e[10]),i(n,"class","pr-5"),i(t,"class","flex items-center mb-3")},m(e,s){d(e,t,s),u(t,n),u(n,h),u(t,v),u(t,$),u(t,I),N||(x=g(h,"click",w),N=!0)},p(t,n){e=t,1&n&&b!==(b=e[2](e[10]))&&(h.checked=b),1&n&&y!==(y=e[10].Name+"")&&f($,y)},d(e){e&&c(t),N=!1,x()}}}function Q(e){let t,n=e[0].length>0&&e[1].length>0&&G(e);return{c(){n&&n.c(),t=v()},l(e){n&&n.l(e),t=v()},m(e,s){n&&n.m(e,s),d(e,t,s)},p(e,[s]){e[0].length>0&&e[1].length>0?n?n.p(e,s):(n=G(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:h,o:h,d(e){n&&n.d(e),e&&c(t)}}}function W(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function r(e){try{c(s.next(e))}catch(e){o(e)}}function l(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let{userId:a}=t,{listId:o}=t,{boardName:r}=t,{userDisplayName:l}=t,c=[],i=[];$((()=>s(void 0,void 0,void 0,(function*(){console.log("userId",a),console.log("listId",o);let e=null,t=null,s=[];const r=I.database().ref();e=r.child(`logger/${a}/${o}`),t=r.child(`loggerData/${a}/${o}`),e.on("value",(e=>{const t=e.val(),s=Object.values(t),a=Object.keys(t);s.forEach(((e,t)=>{e.KeyId=a[t]})),n(0,c=s)})),t.on("value",(e=>{const t=e.val(),a=Object.values(t),o=Object.keys(t);a.forEach(((e,t)=>{e.KeyId=o[t],s.push(Object.values(e)[0])})),n(1,i=s)}))}))));const d=e=>s(void 0,void 0,void 0,(function*(){"data is not empty"===(yield N(e,a,o)).status?x(a,o,e):y(a,o,e,l,r)}));return e.$$set=e=>{"userId"in e&&n(4,a=e.userId),"listId"in e&&n(5,o=e.listId),"boardName"in e&&n(6,r=e.boardName),"userDisplayName"in e&&n(7,l=e.userDisplayName)},[c,i,e=>{let t=!1;for(const n of i)if(e.KeyId===n.FieldId){t=!0;break}return t},d,a,o,r,l,e=>d(e)]}class X extends e{constructor(e){super(),t(this,e,W,Q,n,{userId:4,listId:5,boardName:6,userDisplayName:7})}}function Y(e){let t,n;return t=new X({props:{userId:e[1],listId:e[2],boardName:e[0],userDisplayName:e[4]}}),{c(){w(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,s){k(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.userId=e[1]),4&n&&(s.listId=e[2]),1&n&&(s.boardName=e[0]),16&n&&(s.userDisplayName=e[4]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){j(t.$$.fragment,e),n=!1},d(e){H(t,e)}}}function Z(e){let t,n,s,a,o,r;t=new A({props:{boardName:e[0]}}),s=new M({props:{datoHardcodedStrings:e[3]}});let l=e[4]&&e[1]&&e[2]&&e[0]&&Y(e);return{c(){w(t.$$.fragment),n=m(),w(s.$$.fragment),a=m(),l&&l.c(),o=v()},l(e){D(t.$$.fragment,e),n=p(e),D(s.$$.fragment,e),a=p(e),l&&l.l(e),o=v()},m(e,c){k(t,e,c),d(e,n,c),k(s,e,c),d(e,a,c),l&&l.m(e,c),d(e,o,c),r=!0},p(e,[n]){const a={};1&n&&(a.boardName=e[0]),t.$set(a);const r={};8&n&&(r.datoHardcodedStrings=e[3]),s.$set(r),e[4]&&e[1]&&e[2]&&e[0]?l?(l.p(e,n),23&n&&E(l,1)):(l=Y(e),l.c(),E(l,1),l.m(o.parentNode,o)):l&&(O(),j(l,1,1,(()=>{l=null})),S())},i(e){r||(E(t.$$.fragment,e),E(s.$$.fragment,e),E(l),r=!0)},o(e){j(t.$$.fragment,e),j(s.$$.fragment,e),j(l),r=!1},d(e){H(t,e),e&&c(n),H(s,e),e&&c(a),l&&l.d(e),e&&c(o)}}}function ee(e,t,n){let{boardName:s}=t,{userId:a}=t,{listId:o}=t,r=null,l=null;return _.subscribe((e=>{null!==e&&n(3,r=e)})),L.subscribe((e=>{null!==e&&n(4,l=e)})),console.log("userDisplayName",l),console.log("userId",a),console.log("listId",o),console.log("boardName",s),e.$$set=e=>{"boardName"in e&&n(0,s=e.boardName),"userId"in e&&n(1,a=e.userId),"listId"in e&&n(2,o=e.listId)},[s,a,o,r,l]}class te extends e{constructor(e){super(),t(this,e,ee,Z,n,{boardName:0,userId:1,listId:2})}}function ne(e){let t,n;return t=new te({props:{boardName:e[1],userId:e[2],listId:e[0]}}),{c(){w(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,s){k(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.boardName=e[1]),4&n&&(s.userId=e[2]),1&n&&(s.listId=e[0]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){j(t.$$.fragment,e),n=!1},d(e){H(t,e)}}}function se(e){let t,n,s,a;document.title=t=e[1]?e[1]:"Logger";let o=e[2]&&e[0]&&e[1]&&ne(e);return{c(){n=m(),o&&o.c(),s=v()},l(e){P('[data-svelte="svelte-zxuiss"]',document.head).forEach(c),n=p(e),o&&o.l(e),s=v()},m(e,t){d(e,n,t),o&&o.m(e,t),d(e,s,t),a=!0},p(e,[n]){(!a||2&n)&&t!==(t=e[1]?e[1]:"Logger")&&(document.title=t),e[2]&&e[0]&&e[1]?o?(o.p(e,n),7&n&&E(o,1)):(o=ne(e),o.c(),E(o,1),o.m(s.parentNode,s)):o&&(O(),j(o,1,1,(()=>{o=null})),S())},i(e){a||(E(o),a=!0)},o(e){j(o),a=!1},d(e){e&&c(n),o&&o.d(e),e&&c(s)}}}var ae=function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function r(e){try{c(s.next(e))}catch(e){o(e)}}function l(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};function oe(e){return ae(this,void 0,void 0,(function*(){console.log("_page",e);const{id:t}=e.query;return{id:t}}))}function re(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function r(e){try{c(s.next(e))}catch(e){o(e)}}function l(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let{id:a}=t,o=null,r="";$((()=>{console.log("on mount, id",a)})),T((()=>{V.subscribe((e=>{null!==e&&(n(2,r=e),l())})),console.log("before update, id",a)})),U((()=>{console.log("after update, id",a)}));const l=()=>s(void 0,void 0,void 0,(function*(){if(!o){console.log("UId--\x3e",r),console.log("iD--\x3e",a);const e=yield K(r,a);n(1,o=e.NameOfList)}}));return e.$$set=e=>{"id"in e&&n(0,a=e.id)},[a,o,r]}export default class extends e{constructor(e){super(),t(this,e,re,se,n,{id:0})}}export{oe as preload};
