import{S as a,i as s,s as e,e as t,t as l,c as r,a as c,b as o,d as n,f as i,g as d,h as u,j as f,k as h,l as m,m as p,n as g,o as v,p as x,q as w,r as E,u as $,v as y,w as b,x as j,y as P,z as L,A as I,B as A,C as V}from"./client.3d13778d.js";import{S as B}from"./Spinner.6f3434da.js";function D(a){let s,e;return{c(){s=t("p"),e=l(a[4]),this.h()},l(t){s=r(t,"P",{class:!0});var l=c(s);e=o(l,a[4]),l.forEach(n),this.h()},h(){i(s,"class","text-red-500 text-xs italic")},m(a,t){d(a,s,t),u(s,e)},p(a,s){16&s&&f(e,a[4])},d(a){a&&n(s)}}}function S(a){let s,e;return s=new B({}),{c(){h(s.$$.fragment)},l(a){m(s.$$.fragment,a)},m(a,t){p(s,a,t),e=!0},i(a){e||(g(s.$$.fragment,a),e=!0)},o(a){v(s.$$.fragment,a),e=!1},d(a){x(s,a)}}}function T(a){let s;return{c(){s=l("Login")},l(a){s=o(a,"Login")},m(a,e){d(a,s,e)},d(a){a&&n(s)}}}function k(a){let s,e,f,h,m,p,x,L,I,A,V,B,k,C,N,U,F,q,z,H,O,W,G,J,K,M,Q,R,X,Y=!a[3]&&D(a),Z=a[2]&&S(),_=!a[2]&&T();return{c(){s=t("div"),e=t("div"),f=t("div"),h=t("h1"),m=l("Login"),p=w(),x=t("label"),L=l("Email"),I=w(),A=t("input"),V=w(),B=t("label"),k=l("Password"),C=w(),N=t("input"),U=w(),Y&&Y.c(),F=w(),q=t("button"),Z&&Z.c(),z=w(),_&&_.c(),H=w(),O=t("div"),W=t("a"),G=l("Create account"),J=w(),K=t("a"),M=l("Forgot password?"),this.h()},l(a){s=r(a,"DIV",{class:!0});var t=c(s);e=r(t,"DIV",{class:!0});var l=c(e);f=r(l,"DIV",{class:!0});var i=c(f);h=r(i,"H1",{class:!0});var d=c(h);m=o(d,"Login"),d.forEach(n),p=E(i),x=r(i,"LABEL",{for:!0,class:!0});var u=c(x);L=o(u,"Email"),u.forEach(n),I=E(i),A=r(i,"INPUT",{type:!0,name:!0,placeholder:!0,id:!0,autocomplete:!0,class:!0}),V=E(i),B=r(i,"LABEL",{for:!0,class:!0});var g=c(B);k=o(g,"Password"),g.forEach(n),C=E(i),N=r(i,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,autocomplete:!0,class:!0}),U=E(i),Y&&Y.l(i),F=E(i),q=r(i,"BUTTON",{class:!0});var v=c(q);Z&&Z.l(v),z=E(v),_&&_.l(v),v.forEach(n),H=E(i),O=r(i,"DIV",{class:!0});var w=c(O);W=r(w,"A",{href:!0,class:!0});var $=c(W);G=o($,"Create account"),$.forEach(n),J=E(w),K=r(w,"A",{href:!0,class:!0});var y=c(K);M=o(y,"Forgot password?"),y.forEach(n),w.forEach(n),i.forEach(n),l.forEach(n),t.forEach(n),this.h()},h(){i(h,"class","mb-8 text-3xl text-center"),i(x,"for","Email"),i(x,"class","svelte-1gj0014"),i(A,"type","text"),i(A,"name","Email"),i(A,"placeholder","Email"),i(A,"id","email"),i(A,"autocomplete","off"),i(A,"class","svelte-1gj0014"),i(B,"for","Password"),i(B,"class","svelte-1gj0014"),i(N,"type","password"),i(N,"name","Password"),i(N,"id","password"),i(N,"placeholder","Password"),i(N,"autocomplete","new-password"),i(N,"class","svelte-1gj0014"),i(q,"class","svelte-1gj0014"),i(W,"href","/register"),i(W,"class","font-medium text-blue-500"),i(K,"href","/forgotPassword"),i(K,"class","text-gray-600"),i(O,"class","wrapper svelte-1gj0014"),i(f,"class","bg-white px-6 py-8 rounded shadow-md text-black w-full"),i(e,"class","container max-w-md mx-auto flex-1 flex flex-col items-center justify-center px-2"),i(s,"class","bg-grey-lighter min-h-screen flex flex-col")},m(t,l){d(t,s,l),u(s,e),u(e,f),u(f,h),u(h,m),u(f,p),u(f,x),u(x,L),u(f,I),u(f,A),$(A,a[0]),u(f,V),u(f,B),u(B,k),u(f,C),u(f,N),$(N,a[1]),u(f,U),Y&&Y.m(f,null),u(f,F),u(f,q),Z&&Z.m(q,null),u(q,z),_&&_.m(q,null),u(f,H),u(f,O),u(O,W),u(W,G),u(O,J),u(O,K),u(K,M),Q=!0,R||(X=[y(A,"input",a[6]),y(N,"input",a[7]),y(q,"click",a[5])],R=!0)},p(a,[s]){1&s&&A.value!==a[0]&&$(A,a[0]),2&s&&N.value!==a[1]&&$(N,a[1]),a[3]?Y&&(Y.d(1),Y=null):Y?Y.p(a,s):(Y=D(a),Y.c(),Y.m(f,F)),a[2]?Z?4&s&&g(Z,1):(Z=S(),Z.c(),g(Z,1),Z.m(q,z)):Z&&(b(),v(Z,1,1,(()=>{Z=null})),j()),a[2]?_&&(_.d(1),_=null):_||(_=T(),_.c(),_.m(q,null))},i(a){Q||(g(Z),Q=!0)},o(a){v(Z),Q=!1},d(a){a&&n(s),Y&&Y.d(),Z&&Z.d(),_&&_.d(),R=!1,P(X)}}}function C(a,s,e){let t="",l="",r=!1,c=!0,o="";return[t,l,r,c,o,()=>{e(2,r=!0),L.auth().signInWithEmailAndPassword(t,l).then((a=>{a.user.emailVerified?(e(3,c=!0),e(2,r=!1),I("/dashboard")):(e(3,c=!1),e(4,o="Please verify your email before continue!"),e(2,r=!1))})).catch((a=>{e(4,o=a.message),e(3,c=!1),e(2,r=!1)}))},function(){t=this.value,e(0,t)},function(){l=this.value,e(1,l)}]}class N extends a{constructor(a){super(),s(this,a,C,k,e,{})}}function U(a){let s,e,t;return e=new N({}),{c(){s=w(),h(e.$$.fragment),this.h()},l(a){A('[data-svelte="svelte-oh6yg0"]',document.head).forEach(n),s=E(a),m(e.$$.fragment,a),this.h()},h(){document.title="Sapper project template"},m(a,l){d(a,s,l),p(e,a,l),t=!0},p:V,i(a){t||(g(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){a&&n(s),x(e,a)}}}async function F(a,s){const{user:e}=s;return e?this.redirect(302,"/dashboard"):null}export default class extends a{constructor(a){super(),s(this,a,null,U,e,{})}}export{F as preload};
